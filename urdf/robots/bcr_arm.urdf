<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from bcr_arm_description/urdf/robots/bcr_arm.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="bcr_arm">
  <!-- Material definitions for RViz -->
  <material name="black">
    <color rgba="0.165 0.165 0.165 1.0"/>
  </material>
  <material name="dark_grey">
    <color rgba="0.376 0.376 0.376 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.565 0.565 0.565 1.0"/>
  </material>
  <!-- Connect to world frame -->
  <link name="world"/>
  <joint name="world_to_base" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- RViz Material Definitions -->
  <material name="color_black">
    <color rgba="0.165 0.165 0.165 1"/>
  </material>
  <material name="color_dark_grey">
    <color rgba="0.376 0.376 0.376 1"/>
  </material>
  <material name="color_grey">
    <color rgba="0.565 0.565 0.565 1"/>
  </material>
  <material name="color_light_grey">
    <color rgba="0.690 0.690 0.690 1"/>
  </material>
  <material name="color_white">
    <color rgba="0.961 0.961 0.961 1"/>
  </material>
  <!-- Ignition Gazebo Material Definitions -->
  <gazebo reference="base_link">
    <material>
      <ambient>0.165 0.165 0.165 1</ambient>
      <diffuse>0.165 0.165 0.165 1</diffuse>
      <specular>0.1 0.1 0.1 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link1">
    <material>
      <ambient>0.565 0.565 0.565 1</ambient>
      <diffuse>0.565 0.565 0.565 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link2">
    <material>
      <ambient>0.961 0.961 0.961 1</ambient>
      <diffuse>0.961 0.961 0.961 1</diffuse>
      <specular>0.3 0.3 0.3 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link3">
    <material>
      <ambient>0.565 0.565 0.565 1</ambient>
      <diffuse>0.565 0.565 0.565 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link4">
    <material>
      <ambient>0.961 0.961 0.961 1</ambient>
      <diffuse>0.961 0.961 0.961 1</diffuse>
      <specular>0.3 0.3 0.3 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link5">
    <material>
      <ambient>0.565 0.565 0.565 1</ambient>
      <diffuse>0.565 0.565 0.565 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="link6">
    <material>
      <ambient>0.961 0.961 0.961 1</ambient>
      <diffuse>0.961 0.961 0.961 1</diffuse>
      <specular>0.3 0.3 0.3 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="flange">
    <material>
      <ambient>0.376 0.376 0.376 1</ambient>
      <diffuse>0.376 0.376 0.376 1</diffuse>
      <specular>0.15 0.15 0.15 1</specular>
      <emissive>0 0 0 0</emissive>
    </material>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <!-- Kinematic Chain -->
  <link name="base_link">
    <visual>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/base_joint.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.050"/>
      <geometry>
        <cylinder length="0.050" radius="0.070"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.0"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint1" type="revolute">
    <parent link="base_link"/>
    <child link="link1"/>
    <origin rpy="0 0 0" xyz="0 0 0.025"/>
    <axis xyz="0 0 1"/>
    <limit effort="100" lower="-6.28" upper="6.28" velocity="2"/>
  </joint>
  <link name="link1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_shaft_j1.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/link_l1.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.2"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j2.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <geometry>
        <cylinder length="0.18000000000000002" radius="0.030"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.5"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin rpy="0 0 0" xyz="0 0 0.2"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-2.0" upper="2.0" velocity="2"/>
  </joint>
  <link name="link2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_output_j2.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0.065 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j3.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0.0325 0 0"/>
      <geometry>
        <cylinder length="0.0975" radius="0.030"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.5"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint3" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <origin rpy="0 0 0" xyz="0.065 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="100" lower="-6.28" upper="6.28" velocity="2"/>
  </joint>
  <link name="link3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_shaft_j3.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/link_l2.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.41"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j4.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.205"/>
      <geometry>
        <cylinder length="0.38949999999999996" radius="0.030"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.2"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint4" type="revolute">
    <parent link="link3"/>
    <child link="link4"/>
    <origin rpy="0 0 0" xyz="0 0 0.41"/>
    <axis xyz="1 0 0"/>
    <limit effort="80" lower="-2.0" upper="2.0" velocity="2"/>
  </joint>
  <link name="link4">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_output_j4.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="-0.065 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j5.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="-0.0325 0 0"/>
      <geometry>
        <cylinder length="0.0975" radius="0.030"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.0"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint5" type="revolute">
    <parent link="link4"/>
    <child link="link5"/>
    <origin rpy="0 0 0" xyz="-0.065 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="50" lower="-6.28" upper="6.28" velocity="3"/>
  </joint>
  <link name="link5">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_shaft_j5.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/link_l3.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.31"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j6.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.155"/>
      <geometry>
        <cylinder length="0.2945" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.8"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint6" type="revolute">
    <parent link="link5"/>
    <child link="link6"/>
    <origin rpy="0 0 0" xyz="0 0 0.31"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="-2.0" upper="2.0" velocity="3"/>
  </joint>
  <link name="link6">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_output_j6.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0.06 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_housing_j7.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0.03 0 0"/>
      <geometry>
        <cylinder length="0.09" radius="0.030"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="joint7" type="revolute">
    <parent link="link6"/>
    <child link="flange"/>
    <origin rpy="0 0 0" xyz="0.06 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="30" lower="-6.28" upper="6.28" velocity="4"/>
  </joint>
  <link name="flange">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/joint_shaft_j7.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/link_l4.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.105"/>
      <geometry>
        <mesh filename="package://bcr_arm_description/meshes/tool_flange.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0525"/>
      <geometry>
        <cylinder length="0.0945" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3"/>
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
    </inertial>
  </link>
  <!-- Camera Mount and Link -->
  <joint name="camera_mount_joint" type="fixed">
    <parent link="flange"/>
    <child link="camera_base_link"/>
    <origin rpy="0 0 0" xyz="0.04 0 0.096125"/>
  </joint>
  <link name="camera_base_link">
    <visual>
      <geometry>
        <box size="0.00625 0.02 0.00625"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.00625 0.02 0.00625"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <!-- Camera Sensor Link -->
  <joint name="camera_joint" type="fixed">
    <parent link="camera_base_link"/>
    <child link="camera_link"/>
    <!-- Pointing forward from the mount -->
    <origin rpy="0 0 0" xyz="0.0125 0 0"/>
  </joint>
  <link name="camera_link"/>
  <!-- Camera Optical Frame -->
  <joint name="camera_optical_joint" type="fixed">
    <parent link="camera_link"/>
    <child link="camera_depth_optical_frame"/>
    <!-- Standard ROS optical frame rotation -->
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <link name="camera_depth_optical_frame"/>
  <!-- Ignition Gazebo Camera Plugin -->
  <gazebo reference="camera_link">
    <sensor name="depth_camera" type="camera">
      <always_on>true</always_on>
      <update_rate>20</update_rate>
      <visualize>true</visualize>
      <camera>
        <horizontal_fov>1.0</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <depth_image>
          <width>640</width>
          <height>480</height>
        </depth_image>
        <clip>
          <near>0.1</near>
          <far>10.0</far>
        </clip>
      </camera>
      <!-- Sensor data handled by Gazebo sensors system and bridged by ros_gz_bridge -->
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="gz_ros2_control-system" name="gz_ros2_control::GazeboSimROS2ControlPlugin">
      <parameters>bcr_arm_moveit_config/config/bcr_arm/ros2_controllers.yaml</parameters>
      <ros>
        <remapping>/controller_manager/robot_description:=/robot_description</remapping>
      </ros>
    </plugin>
  </gazebo>
  <ros2_control name="IgnitionSystem" type="system">
    <hardware>
      <plugin>gz_ros2_control/GazeboSimSystem</plugin>
    </hardware>
    <joint name="joint1">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint2">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint3">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint4">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint5">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint6">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint7">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
</robot>
